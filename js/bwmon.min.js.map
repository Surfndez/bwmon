window.VERSION="2.3.2";
/*
	bwmon v2.3.2
	(C) 2010 - 2015 VREM Software Development
	https://github.com/VREMSoftwareDevelopment/bwmon
	License: Apache-2.0
*/
{"version":3,"sources":["bwmon.min.js"],"names":["angular","module","config","$routeProvider","otherwise","redirectTo","controller","$scope","$interval","rootController","this","updateClock","clock","Date","clockOn","currentDate","version","window","VERSION","$on","e","cancel","run","$templateCache","put","directive","restrict","replace","require","template","scope","bindToController","chartType","chartService","chartTypes","getChartTypes","extend","controllerAs","filter","input","start","slice","month","moment","format","time","value","Math","round","year","dataService","ctrl","updateMonth","months","getMonths","$watch","years","getYears","join","$location","isActive","viewLocation","path","routes","href","name","when","templateUrl","usageByMonthCtrl","reset","predicate","reverse","selected","usageData","getUsageByMonth","data","usage","total","chartData","chartOptions","getChartOptions","getMonthLabel","series","type","usageByUserCtrl","user","pageSize","getUsageByUser","getUserLabel","getUserTooltip","usageByYearCtrl","getUsageByYear","getYearLabel","factory","_getYearLabel","result","id","_getMonthLabel","_getUserLabel","IP","_getUserTooltip","_getChartTypes","_getChartOptions","label","tooltip","y","color","axes","x","labelFunction","formatter","_data","bwmonData","_sort","a","b","_sum","entries","days","download","upload","forEach","entry","average","toFixed","_getMonths","_","where","uniq","item","pluck","_getYears","_getUsageByYear","dayOfYear","_getUsageByUser","daysInMonth","filterLowerCase","toLowerCase","indexOf","MAC","each","index","percent","_getUsageByMonth","map","_getChartData","key","init","sort"],"mappings":"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","file":"bwmon.min.js","sourcesContent":["/*\r\n *    Copyright (C) 2010 - 2015 VREM Software Development <VREMSoftwareDevelopment@gmail.com>\r\n *\r\n *    Licensed under the Apache License, Version 2.0 (the \"License\");\r\n *    you may not use this file except in compliance with the License.\r\n *    You may obtain a copy of the License at\r\n *\r\n *        http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n *    Unless required by applicable law or agreed to in writing, software\r\n *    distributed under the License is distributed on an \"AS IS\" BASIS,\r\n *    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n *    See the License for the specific language governing permissions and\r\n *    limitations under the License.\r\n */\r\nangular.module('BWMonApp', [\r\n\t'ngRoute',\r\n\t'ui.bootstrap',\r\n\t'angularUtils.directives.dirPagination',\r\n\t'n3-line-chart',\r\n\t'BWMonApp.Filters',\r\n\t'BWMonApp.Navigation',\r\n\t'BWMonApp.UsageByUser',\r\n\t'BWMonApp.UsageByMonth',\r\n\t'BWMonApp.UsageByYear',\r\n\t'BWMonApp.SelectYear',\r\n\t'BWMonApp.SelectMonth',\r\n\t'BWMonApp.ChartType',\r\n\t'BWMonApp.ChartService',\r\n\t'BWMonApp.DataService'\r\n])\r\n.config(function($routeProvider) {\r\n\t$routeProvider.otherwise({redirectTo: '/UsageByUser'});\r\n})\r\n.controller('rootController', function($scope, $interval) {\r\n\tvar rootController = this,\r\n\t\tupdateClock = function() {\r\n\t\t\trootController.clock = new Date();\r\n\t\t},\r\n\t\tclockOn = $interval(updateClock, 1000);\r\n\r\n\tupdateClock();\r\n\r\n\trootController.currentDate = rootController.clock;\r\n\trootController.version = window.VERSION || 'SNAPSHOT';\r\n\r\n\t$scope.$on('$destroy', function(e) {\r\n\t\t$interval.cancel(clockOn);\r\n\t});\r\n});\r\n;angular.module(\"BWMonApp\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"index.tpl.html\",\"<!doctype html>\\r\\n<html lang=\\\"en\\\" ng-app=\\\"BWMonApp\\\" ng-controller=\\\"rootController as rootCtrl\\\">\\r\\n<head>\\r\\n\t<meta charset=\\\"utf-8\\\">\\r\\n\t<meta name=\\\"viewport\\\" content=\\\"width=device-width,initial-scale=1\\\">\\r\\n\t<title>Bandwidth Monitor Usage</title>\\r\\n<!-- @ifdef PRODUCTION -->\\r\\n\t<link rel=\\\"stylesheet\\\" href=\\\"css/bootstrap.min.css\\\">\\r\\n\t<link rel=\\\"stylesheet\\\" href=\\\"css/bwmon.min.css\\\">\\r\\n<!-- @endif -->\\r\\n<!-- @ifdef DEVELOPMENT -->\\r\\n\t<link rel=\\\"stylesheet\\\" href=\\\"../bower_components/bootstrap/dist/css/bootstrap.min.css\\\">\\r\\n\t<link rel=\\\"stylesheet\\\" href=\\\"css/app.css\\\">\\r\\n<!-- @endif -->\\r\\n</head>\\r\\n<body class=\\\"container\\\">\\r\\n\t<h2>\\r\\n\t\t<span class=\\\"pull-left\\\">Bandwidth Monitor Usage</span>\\r\\n\t\t<small class=\\\"pull-right\\\">{{rootCtrl.clock  | date: \\'medium\\'}}</small>\\r\\n\t\t<span class=\\\"clearfix\\\"></span>\\r\\n\t</h2>\\r\\n\t<navigation></navigation>\\r\\n\t<div class=\\\"ng-view-min-height\\\">\\r\\n\t\t<div ng-view></div>\\r\\n\t</div>\\r\\n\t<h5>\\r\\n\t\t<b>All usage information is in gigabytes</b>\\r\\n\t</h5>\\r\\n\t<h5>\\r\\n\t\t<span class=\\\"pull-left\\\">This page was generated on {{::rootCtrl.currentDate | date: \\'medium\\'}}</span>\\r\\n\t\t<span class=\\\"pull-right\\\">Version {{::rootCtrl.version}}</span>\\r\\n\t\t<span class=\\\"clearfix\\\"></span>\\r\\n\t</h5>\\r\\n\t<script src=\\\"bwmonUsage.js\\\"></script>\\r\\n<!-- @ifdef PRODUCTION -->\\r\\n\t<script src=\\\"js/libs.min.js\\\"></script>\\r\\n\t<script src=\\\"js/bwmon.min.js\\\"></script>\\r\\n<!-- @endif -->\\r\\n<!-- @ifdef DEVELOPMENT -->\\r\\n\t<script src=\\\"../bower_components/angular/angular.min.js\\\"></script>\\r\\n\t<script src=\\\"../bower_components/angular-route/angular-route.min.js\\\"></script>\\r\\n\t<script src=\\\"../bower_components/angular-bootstrap/ui-bootstrap-tpls.min.js\\\"></script>\\r\\n\t<script src=\\\"../bower_components/angularUtils-pagination/dirPagination.js\\\"></script>\\r\\n\t<script src=\\\"../bower_components/underscore/underscore-min.js\\\"></script>\\r\\n\t<script src=\\\"../bower_components/momentjs/min/moment.min.js\\\"></script>\\r\\n\t<script src=\\\"../bower_components/d3/d3.min.js\\\"></script>\\r\\n\t<script src=\\\"../bower_components/n3-line-chart/build/line-chart.min.js\\\"></script>\\r\\n\t<script src=\\\"app.js\\\"></script>\\r\\n\t<script src=\\\"navigation/navigation.js\\\"></script>\\r\\n\t<script src=\\\"services/dataService.js\\\"></script>\\r\\n\t<script src=\\\"services/chartService.js\\\"></script>\\r\\n\t<script src=\\\"usagebyuser/usageByUser.js\\\"></script>\\r\\n\t<script src=\\\"usagebymonth/usageByMonth.js\\\"></script>\\r\\n\t<script src=\\\"usagebyyear/usageByYear.js\\\"></script>\\r\\n\t<script src=\\\"common/filters.js\\\"></script>\\r\\n\t<script src=\\\"common/selectYear.js\\\"></script>\\r\\n\t<script src=\\\"common/selectMonth.js\\\"></script>\\r\\n\t<script src=\\\"common/chartType.js\\\"></script>\\r\\n<!-- @endif -->\\r\\n</body>\\r\\n</html>\");\n$templateCache.put(\"usagebymonth/usageByMonth.tpl.html\",\"<uib-tabset justified=\\\"true\\\">\\r\\n\t<uib-tab id=\\\"Data\\\" heading=\\\"Data\\\">\\r\\n\t\t<form class=\\\"form-inline\\\">\\r\\n\t\t\t<div class=\\\"form-group\\\">\\r\\n\t\t\t\t<select-year ng-model=\\\"usageByMonthCtrl.selected.year\\\" class=\\\"form-control\\\" name=\\\"year\\\">\\r\\n\t\t\t</div>\\r\\n\t\t</form>\\r\\n\t\t<div class=\\\"table-responsive\\\">\\r\\n\t\t\t<table class=\\\"table table-striped table-hover table-condensed\\\">\\r\\n\t\t\t\t<thead>\\r\\n\t\t\t\t\t<tr>\\r\\n\t\t\t\t\t\t<th><a id=\\\"monthSort\\\" href=\\\"\\\" ng-click=\\\"predicate=\\'id\\'; usageByMonthCtrl.reverse=!usageByMonthCtrl.reverse;\\\">Month</a></th>\\r\\n\t\t\t\t\t\t<th class=\\\"text-right\\\">Down</th>\\r\\n\t\t\t\t\t\t<th class=\\\"text-right\\\">Up</th>\\r\\n\t\t\t\t\t\t<th class=\\\"text-right\\\"><a id=\\\"totalSort\\\" href=\\\"\\\" ng-click=\\\"predicate=\\'total\\'; usageByMonthCtrl.reverse=!usageByMonthCtrl.reverse\\\">Total</a></th>\\r\\n\t\t\t\t\t\t<th class=\\\"text-right\\\">Percent</th>\\r\\n\t\t\t\t\t\t<th class=\\\"text-right\\\">Average</th>\\r\\n\t\t\t\t\t\t<th class=\\\"text-right\\\">Days</th>\\r\\n\t\t\t\t\t</tr>\\r\\n\t\t\t\t</thead>\\r\\n\t\t\t\t<tbody>\\r\\n\t\t\t\t\t<tr ng-repeat=\\\"current in usageByMonthCtrl.data | orderBy:predicate:usageByMonthCtrl.reverse\\\">\\r\\n\t\t\t\t\t\t<td>{{::current.id | toMonth}}</td>\\r\\n\t\t\t\t\t\t<td class=\\\"text-right\\\">{{::current.download | usageInGBytes | number:3}}</td>\\r\\n\t\t\t\t\t\t<td class=\\\"text-right\\\">{{::current.upload | usageInGBytes | number:3}}</td>\\r\\n\t\t\t\t\t\t<td class=\\\"text-right\\\">{{::current.total | usageInGBytes | number:3}}</td>\\r\\n\t\t\t\t\t\t<td class=\\\"text-right\\\">{{::current.percent | number:1}}%</td>\\r\\n\t\t\t\t\t\t<td class=\\\"text-right\\\">{{::current.average | usageInGBytes | number:3}}</td>\\r\\n\t\t\t\t\t\t<td class=\\\"text-right\\\">{{::current.days}}</td>\\r\\n\t\t\t\t\t</tr>\\r\\n\t\t\t\t</tbody>\\r\\n\t\t\t\t<tfoot>\\r\\n\t\t\t\t\t<tr>\\r\\n\t\t\t\t\t\t<th>{{usageByMonthCtrl.selected.year}} Totals</th>\\r\\n\t\t\t\t\t\t<th class=\\\"text-right\\\">{{::usageByMonthCtrl.total.download | usageInGBytes | number:3}}</th>\\r\\n\t\t\t\t\t\t<th class=\\\"text-right\\\">{{::usageByMonthCtrl.total.upload | usageInGBytes | number:3}}</th>\\r\\n\t\t\t\t\t\t<th class=\\\"text-right\\\">{{::usageByMonthCtrl.total.total | usageInGBytes | number:3}}</th>\\r\\n\t\t\t\t\t\t<th></th>\\r\\n\t\t\t\t\t\t<th class=\\\"text-right\\\">{{::usageByMonthCtrl.total.average | usageInGBytes | number:3}}</th>\\r\\n\t\t\t\t\t\t<th class=\\\"text-right\\\">{{::usageByMonthCtrl.total.days}}</th>\\r\\n\t\t\t\t\t</tr>\\r\\n\t\t\t\t</tfoot>\\r\\n\t\t\t</table>\\r\\n\t\t</div>\\r\\n\t</uib-tab>\\r\\n\t<uib-tab id=\\\"Chart\\\" heading=\\\"Chart\\\">\\r\\n\t\t<form class=\\\"form-inline\\\">\\r\\n\t\t\t<div class=\\\"form-group\\\">\\r\\n\t\t\t\t<select-year ng-model=\\\"usageByMonthCtrl.selected.year\\\" class=\\\"form-control\\\" name=\\\"year\\\">\\r\\n\t\t\t</div>\\r\\n\t\t\t<div class=\\\"form-group\\\">\\r\\n\t\t\t\t<chart-type ng-model=\\\"usageByMonthCtrl.selected.chartType\\\" class=\\\"form-control\\\" name=\\\"chartType\\\">\\r\\n\t\t\t</div>\\r\\n\t\t</form>\\r\\n\t\t<div>\\r\\n\t\t\t<linechart id=\\\"chartData\\\" data=\\\"usageByMonthCtrl.chartData\\\" options=\\\"usageByMonthCtrl.chartOptions\\\"></linechart>\\r\\n\t\t</div>\\r\\n\t</uib-tab>\\r\\n</uib-tabset>\");\n$templateCache.put(\"usagebyuser/usageByUser.tpl.html\",\"<uib-tabset justified=\\\"true\\\">\\r\\n\t<uib-tab id=\\\"Data\\\" heading=\\\"Data\\\">\\r\\n\t\t<form class=\\\"form-inline\\\">\\r\\n\t\t\t<div class=\\\"form-group\\\">\\r\\n\t\t\t\t<select-year ng-model=\\\"usageByUserCtrl.selected.year\\\" class=\\\"form-control\\\" name=\\\"year\\\">\\r\\n\t\t\t</div>\\r\\n\t\t\t<div class=\\\"form-group\\\">\\r\\n\t\t\t\t<select-month ng-model=\\\"usageByUserCtrl.selected.month\\\" year=\\\"usageByUserCtrl.selected.year\\\" class=\\\"form-control\\\" name=\\\"month\\\">\\r\\n\t\t\t</div>\\r\\n\t\t\t<div class=\\\"form-group\\\">\\r\\n\t\t\t\t<input ng-model=\\\"usageByUserCtrl.selected.user\\\" class=\\\"form-control\\\" name=\\\"user\\\" placeholder=\\\"IP, MAC or User\\\">\\r\\n\t\t\t</div>\\r\\n\t\t\t<div class=\\\"form-group\\\">\\r\\n\t\t\t\t<dir-pagination-controls max-size=\\\"5\\\" boundary-links=\\\"true\\\"></dir-pagination-controls>\\r\\n\t\t\t</div>\\r\\n\t\t</form>\\r\\n\t\t<div class=\\\"table-responsive\\\">\\r\\n\t\t\t<table class=\\\"table table-striped table-hover table-condensed\\\">\\r\\n\t\t\t\t<thead>\\r\\n\t\t\t\t\t<tr>\\r\\n\t\t\t\t\t\t<th><a id=\\\"IPSort\\\" href=\\\"\\\" ng-click=\\\"predicate=\\'IP\\'; usageByUserCtrl.reverse=!usageByUserCtrl.reverse\\\">IP</a></th>\\r\\n\t\t\t\t\t\t<th><a id=\\\"MACSort\\\" href=\\\"\\\" ng-click=\\\"predicate=\\'MAC\\'; usageByUserCtrl.reverse=!usageByUserCtrl.reverse\\\">MAC</a></th>\\r\\n\t\t\t\t\t\t<th><a id=\\\"userSort\\\" href=\\\"\\\" ng-click=\\\"predicate=\\'user\\'; usageByUserCtrl.reverse=!usageByUserCtrl.reverse\\\">User</a></th>\\r\\n\t\t\t\t\t\t<th class=\\\"text-right\\\">Down</th>\\r\\n\t\t\t\t\t\t<th class=\\\"text-right\\\">Up</th>\\r\\n\t\t\t\t\t\t<th class=\\\"text-right\\\"><a id=\\\"totalSort\\\" href=\\\"\\\" ng-click=\\\"predicate=\\'total\\'; usageByUserCtrl.reverse=!usageByUserCtrl.reverse\\\">Total</a></th>\\r\\n\t\t\t\t\t\t<th class=\\\"text-right\\\">Percent</th>\\r\\n\t\t\t\t\t\t<th class=\\\"text-right\\\">Average</th>\\r\\n\t\t\t\t\t\t<th class=\\\"text-right\\\">Days</th>\\r\\n\t\t\t\t\t\t<th>First Seen</th>\\r\\n\t\t\t\t\t\t<th>Last Seen</th>\\r\\n\t\t\t\t\t</tr>\\r\\n\t\t\t\t</thead>\\r\\n\t\t\t\t<tbody>\\r\\n\t\t\t\t\t<tr dir-paginate=\\\"current in usageByUserCtrl.data | orderBy:predicate:usageByUserCtrl.reverse | itemsPerPage:usageByUserCtrl.pageSize\\\">\\r\\n\t\t\t\t\t\t<td>{{::current.IP}}</td>\\r\\n\t\t\t\t\t\t<td>{{::current.MAC}}</td>\\r\\n\t\t\t\t\t\t<td>{{::current.user}}</td>\\r\\n\t\t\t\t\t\t<td class=\\\"text-right\\\">{{::current.download | usageInGBytes | number:3}}</td>\\r\\n\t\t\t\t\t\t<td class=\\\"text-right\\\">{{::current.upload | usageInGBytes | number:3}}</td>\\r\\n\t\t\t\t\t\t<td class=\\\"text-right\\\">{{::current.total | usageInGBytes | number:3}}</td>\\r\\n\t\t\t\t\t\t<td class=\\\"text-right\\\">{{::current.percent | number:1}}%</td>\\r\\n\t\t\t\t\t\t<td class=\\\"text-right\\\">{{::current.average | usageInGBytes | number:3}}</td>\\r\\n\t\t\t\t\t\t<td class=\\\"text-right\\\">{{::current.days}}</td>\\r\\n\t\t\t\t\t\t<td>{{::current.firstSeen | timeToDate | date: \\'medium\\'}}</td>\\r\\n\t\t\t\t\t\t<td>{{::current.lastSeen | timeToDate | date: \\'medium\\'}}</td>\\r\\n\t\t\t\t\t</tr>\\r\\n\t\t\t\t</tbody>\\r\\n\t\t\t\t<tfoot>\\r\\n\t\t\t\t\t<tr>\\r\\n\t\t\t\t\t\t<th colspan=\\\"3\\\">{{usageByUserCtrl.selected.month}} {{usageByUserCtrl.selected.year}} Totals</th>\\r\\n\t\t\t\t\t\t<th class=\\\"text-right\\\">{{::usageByUserCtrl.total.download | usageInGBytes | number:3}}</th>\\r\\n\t\t\t\t\t\t<th class=\\\"text-right\\\">{{::usageByUserCtrl.total.upload | usageInGBytes | number:3}}</th>\\r\\n\t\t\t\t\t\t<th class=\\\"text-right\\\">{{::usageByUserCtrl.total.total | usageInGBytes | number:3}}</th>\\r\\n\t\t\t\t\t\t<th></th>\\r\\n\t\t\t\t\t\t<th class=\\\"text-right\\\">{{::usageByUserCtrl.total.average | usageInGBytes | number:3}}</th>\\r\\n\t\t\t\t\t\t<th class=\\\"text-right\\\">{{::usageByUserCtrl.total.days}}</th>\\r\\n\t\t\t\t\t\t<th></th>\\r\\n\t\t\t\t\t\t<th></th>\\r\\n\t\t\t\t\t</tr>\\r\\n\t\t\t\t</tfoot>\\r\\n\t\t\t</table>\\r\\n\t\t</div>\\r\\n\t</uib-tab>\\r\\n\t<uib-tab id=\\\"Chart\\\" heading=\\\"Chart\\\">\\r\\n\t\t<form class=\\\"form-inline\\\">\\r\\n\t\t\t<div class=\\\"form-group\\\">\\r\\n\t\t\t\t<select-year ng-model=\\\"usageByUserCtrl.selected.year\\\" class=\\\"form-control\\\" name=\\\"year\\\">\\r\\n\t\t\t</div>\\r\\n\t\t\t<div class=\\\"form-group\\\">\\r\\n\t\t\t\t<select-month ng-model=\\\"usageByUserCtrl.selected.month\\\" year=\\\"usageByUserCtrl.selected.year\\\" class=\\\"form-control\\\" name=\\\"month\\\">\\r\\n\t\t\t</div>\\r\\n\t\t\t<div class=\\\"form-group\\\">\\r\\n\t\t\t\t<input ng-model=\\\"usageByUserCtrl.selected.user\\\" class=\\\"form-control\\\" name=\\\"user\\\" placeholder=\\\"IP, MAC or User\\\">\\r\\n\t\t\t</div>\\r\\n\t\t\t<div class=\\\"form-group\\\">\\r\\n\t\t\t\t<chart-type ng-model=\\\"usageByUserCtrl.selected.chartType\\\" class=\\\"form-control\\\" name=\\\"chartType\\\">\\r\\n\t\t\t</div>\\r\\n\t\t</form>\\r\\n\t\t<div>\\r\\n\t\t\t<linechart id=\\\"chartData\\\" data=\\\"usageByUserCtrl.chartData\\\" options=\\\"usageByUserCtrl.chartOptions\\\"></linechart>\\r\\n\t\t</div>\\r\\n\t</uib-tab>\\r\\n</uib-tabset>\");\n$templateCache.put(\"usagebyyear/usageByYear.tpl.html\",\"<uib-tabset justified=\\\"true\\\">\\r\\n\t<uib-tab id=\\\"Data\\\" heading=\\\"Data\\\">\\r\\n\t\t<div class=\\\"table-responsive\\\">\\r\\n\t\t\t<table class=\\\"table table-striped table-hover table-condensed\\\">\\r\\n\t\t\t\t<thead>\\r\\n\t\t\t\t\t<tr>\\r\\n\t\t\t\t\t\t<th><a id=\\\"yearSort\\\" href=\\\"\\\" ng-click=\\\"predicate=\\'id\\'; usageByYearCtrl.reverse=!usageByYearCtrl.reverse;\\\">Year</a></th>\\r\\n\t\t\t\t\t\t<th class=\\\"text-right\\\">Down</th>\\r\\n\t\t\t\t\t\t<th class=\\\"text-right\\\">Up</th>\\r\\n\t\t\t\t\t\t<th class=\\\"text-right\\\"><a id=\\\"totalSort\\\" href=\\\"\\\" ng-click=\\\"predicate=\\'total\\'; usageByYearCtrl.reverse=!usageByYearCtrl.reverse\\\">Total</a></th>\\r\\n\t\t\t\t\t\t<th class=\\\"text-right\\\">Average</th>\\r\\n\t\t\t\t\t\t<th class=\\\"text-right\\\">Days</th>\\r\\n\t\t\t\t\t</tr>\\r\\n\t\t\t\t</thead>\\r\\n\t\t\t\t<tbody>\\r\\n\t\t\t\t\t<tr year-body ng-repeat=\\\"current in usageByYearCtrl.data | orderBy:predicate:usageByYearCtrl.reverse\\\">\\r\\n\t\t\t\t\t\t<td>{{current.id}}</td>\\r\\n\t\t\t\t\t\t<td class=\\\"text-right\\\">{{::current.download | usageInGBytes | number:3}}</td>\\r\\n\t\t\t\t\t\t<td class=\\\"text-right\\\">{{::current.upload | usageInGBytes | number:3}}</td>\\r\\n\t\t\t\t\t\t<td class=\\\"text-right\\\">{{::current.total | usageInGBytes | number:3}}</td>\\r\\n\t\t\t\t\t\t<td class=\\\"text-right\\\">{{::current.average | usageInGBytes | number:3}}</td>\\r\\n\t\t\t\t\t\t<td class=\\\"text-right\\\">{{::current.days}}</td>\\r\\n\t\t\t\t\t</tr>\\r\\n\t\t\t\t</tbody>\\r\\n\t\t\t</table>\\r\\n\t\t</div>\\r\\n\t</uib-tab>\\r\\n\t<uib-tab id=\\\"Chart\\\" heading=\\\"Chart\\\">\\r\\n\t\t<form class=\\\"form-inline\\\">\\r\\n\t\t\t<div class=\\\"form-group\\\">\\r\\n\t\t\t\t<chart-type ng-model=\\\"usageByYearCtrl.selected.chartType\\\" class=\\\"form-control\\\" name=\\\"chartType\\\">\\r\\n\t\t\t</div>\\r\\n\t\t</form>\\r\\n\t\t<div>\\r\\n\t\t\t<linechart id=\\\"chartData\\\" data=\\\"usageByYearCtrl.chartData\\\" options=\\\"usageByYearCtrl.chartOptions\\\"></linechart>\\r\\n\t\t</div>\\r\\n\t</uib-tab>\\r\\n</uib-tabset>\");}]);;/*\r\n *    Copyright (C) 2010 - 2015 VREM Software Development <VREMSoftwareDevelopment@gmail.com>\r\n *\r\n *    Licensed under the Apache License, Version 2.0 (the \"License\");\r\n *    you may not use this file except in compliance with the License.\r\n *    You may obtain a copy of the License at\r\n *\r\n *        http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n *    Unless required by applicable law or agreed to in writing, software\r\n *    distributed under the License is distributed on an \"AS IS\" BASIS,\r\n *    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n *    See the License for the specific language governing permissions and\r\n *    limitations under the License.\r\n */\r\nangular.module('BWMonApp.ChartType', [])\r\n.directive('chartType', function() {\r\n\treturn {\r\n\t\trestrict: 'E',\r\n\t\treplace: true,\r\n\t\trequire: 'ngModel',\r\n\t\ttemplate: '<select ng-options=\"choiceChartType for choiceChartType in ::chartTypeCtrl.chartTypes\"></select>',\r\n\t\tscope: {},\r\n\t\tbindToController: {\r\n\t\t\tchartType: '=ngModel'\r\n\t\t},\r\n\t\tcontroller: function(chartService) {\r\n\t\t\tvar chartTypes = chartService.getChartTypes();\r\n\t\t\tangular.extend(this, {\r\n\t\t\t\tchartTypes: chartTypes,\r\n\t\t\t\tchartType: chartTypes[0]\r\n\t\t\t});\r\n\t\t},\r\n\t\tcontrollerAs: 'chartTypeCtrl'\r\n\t};\r\n});\r\n;/*\r\n *    Copyright (C) 2010 - 2015 VREM Software Development <VREMSoftwareDevelopment@gmail.com>\r\n *\r\n *    Licensed under the Apache License, Version 2.0 (the \"License\");\r\n *    you may not use this file except in compliance with the License.\r\n *    You may obtain a copy of the License at\r\n *\r\n *        http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n *    Unless required by applicable law or agreed to in writing, software\r\n *    distributed under the License is distributed on an \"AS IS\" BASIS,\r\n *    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n *    See the License for the specific language governing permissions and\r\n *    limitations under the License.\r\n */\r\nangular.module('BWMonApp.Filters', [])\r\n.filter('startFrom', function() {\r\n\treturn function(input, start) {\r\n\t\treturn input.slice(start);\r\n\t};\r\n})\r\n.filter('toMonth', function() {\r\n\treturn function(month) {\r\n\t\treturn moment([2012, month]).format(\"MMMM\");\r\n\t};\r\n})\r\n.filter('timeToDate', function() {\r\n\treturn function(time) {\r\n\t\treturn new Date(time*1000);\r\n\t};\r\n})\r\n.filter('usageInGBytes', function() {\r\n\treturn function(value) {\r\n\t\treturn Math.round(value/1000)/1000;\r\n\t};\r\n});\r\n;/*\r\n *    Copyright (C) 2010 - 2015 VREM Software Development <VREMSoftwareDevelopment@gmail.com>\r\n *\r\n *    Licensed under the Apache License, Version 2.0 (the \"License\");\r\n *    you may not use this file except in compliance with the License.\r\n *    You may obtain a copy of the License at\r\n *\r\n *        http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n *    Unless required by applicable law or agreed to in writing, software\r\n *    distributed under the License is distributed on an \"AS IS\" BASIS,\r\n *    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n *    See the License for the specific language governing permissions and\r\n *    limitations under the License.\r\n */\r\nangular.module('BWMonApp.SelectMonth', [])\r\n.directive('selectMonth', function() {\r\n\treturn {\r\n\t\trestrict: 'E',\r\n\t\treplace: true,\r\n\t\trequire: ['ngModel', 'year'],\r\n\t\ttemplate: '<select ng-options=\"choiceMonth for choiceMonth in selectMonthCtrl.months\"></select>',\r\n\t\tscope: {},\r\n\t\tbindToController: {\r\n\t\t\tmonth: '=ngModel',\r\n\t\t\tyear: '=year'\r\n\t\t},\r\n\t\tcontroller: function($scope, dataService) {\r\n\t\t\tvar ctrl = this;\r\n\t\t\tvar updateMonth = function() {\r\n\t\t\t\tvar months = dataService.getMonths(ctrl.year);\r\n\t\t\t\tctrl.months = months;\r\n\t\t\t\tctrl.month = months[0];\r\n\t\t\t};\r\n\r\n\t\t\tupdateMonth();\r\n\t\t\t$scope.$watch('selectMonthCtrl.year', function() {\r\n\t\t\t\tupdateMonth();\r\n\t\t\t}, true);\r\n\t\t},\r\n\t\tcontrollerAs: 'selectMonthCtrl'\r\n\t};\r\n});\r\n\r\n;/*\r\n *    Copyright (C) 2010 - 2015 VREM Software Development <VREMSoftwareDevelopment@gmail.com>\r\n *\r\n *    Licensed under the Apache License, Version 2.0 (the \"License\");\r\n *    you may not use this file except in compliance with the License.\r\n *    You may obtain a copy of the License at\r\n *\r\n *        http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n *    Unless required by applicable law or agreed to in writing, software\r\n *    distributed under the License is distributed on an \"AS IS\" BASIS,\r\n *    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n *    See the License for the specific language governing permissions and\r\n *    limitations under the License.\r\n */\r\nangular.module('BWMonApp.SelectYear', [])\r\n.directive('selectYear', function() {\r\n\treturn {\r\n\t\trestrict: 'E',\r\n\t\treplace: true,\r\n\t\trequire: 'ngModel',\r\n\t\ttemplate: '<select ng-options=\"choiceYear for choiceYear in ::selectYearCtrl.years\"></select>',\r\n\t\tscope: {},\r\n\t\tbindToController: {\r\n\t\t\tyear: '=ngModel'\r\n\t\t},\r\n\t\tcontroller: function(dataService) {\r\n\t\t\tvar years = dataService.getYears();\r\n\t\t\tangular.extend(this, {\r\n\t\t\t\tyears: years,\r\n\t\t\t\tyear: years[0]\r\n\t\t\t});\r\n\t\t},\r\n\t\tcontrollerAs: 'selectYearCtrl'\r\n\t};\r\n});\r\n;/*\r\n *    Copyright (C) 2010 - 2015 VREM Software Development <VREMSoftwareDevelopment@gmail.com>\r\n *\r\n *    Licensed under the Apache License, Version 2.0 (the \"License\");\r\n *    you may not use this file except in compliance with the License.\r\n *    You may obtain a copy of the License at\r\n *\r\n *        http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n *    Unless required by applicable law or agreed to in writing, software\r\n *    distributed under the License is distributed on an \"AS IS\" BASIS,\r\n *    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n *    See the License for the specific language governing permissions and\r\n *    limitations under the License.\r\n */\r\nangular.module('BWMonApp.Navigation', [])\r\n.directive('navigation', function() {\r\n\treturn {\r\n\t\trestrict: 'E',\r\n\t\treplace: true,\r\n\t\ttemplate: [\r\n\t\t\t\t'<div class=\"navbar navbar-default\">',\r\n\t\t\t\t\t'<ul class=\"nav navbar-nav\">',\r\n\t\t\t\t\t\t'<li ng-repeat=\"route in ::navigationCtrl.routes\" ng-class=\"{active: navigationCtrl.isActive(\\'{{::route.href}}\\')}\" >',\r\n\t\t\t\t\t\t\t'<a href=\"#{{::route.href}}\">{{::route.name}}</a>',\r\n\t\t\t\t\t\t'</li>',\r\n\t\t\t\t\t'</ul>',\r\n\t\t\t\t'</div>'\r\n\t\t\t].join(''),\r\n\t\tscope: {},\r\n\t\tcontroller: function($scope, $location) {\r\n\t\t\tangular.extend(this, {\r\n\t\t\t\tisActive: function (viewLocation) {\r\n\t\t\t\t\treturn viewLocation === $location.path();\r\n\t\t\t\t},\r\n\t\t\t\troutes: [{\r\n\t\t\t\t\thref: '/UsageByUser',\r\n\t\t\t\t\tname: 'Usage By User'\r\n\t\t\t\t}, {\r\n\t\t\t\t\thref: '/UsageByMonth',\r\n\t\t\t\t\tname: 'Usage By Month'\r\n\t\t\t\t}, {\r\n\t\t\t\t\thref: '/UsageByYear',\r\n\t\t\t\t\tname: 'Usage By Year'\r\n\t\t\t\t}]\r\n\t\t\t});\r\n\t\t},\r\n\t\tcontrollerAs: 'navigationCtrl'\r\n\t};\r\n});\r\n;/*\r\n *    Copyright (C) 2010 - 2015 VREM Software Development <VREMSoftwareDevelopment@gmail.com>\r\n *\r\n *    Licensed under the Apache License, Version 2.0 (the \"License\");\r\n *    you may not use this file except in compliance with the License.\r\n *    You may obtain a copy of the License at\r\n *\r\n *        http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n *    Unless required by applicable law or agreed to in writing, software\r\n *    distributed under the License is distributed on an \"AS IS\" BASIS,\r\n *    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n *    See the License for the specific language governing permissions and\r\n *    limitations under the License.\r\n */\r\nangular.module('BWMonApp.UsageByMonth', ['ngRoute'])\r\n.config(function($routeProvider) {\r\n\t$routeProvider.when('/UsageByMonth', {\r\n\t\ttemplateUrl: 'usagebymonth/usageByMonth.tpl.html',\r\n\t\tcontroller: 'UsageByMonthController',\r\n\t\tcontrollerAs: 'usageByMonthCtrl'\r\n\t});\r\n})\r\n.controller('UsageByMonthController', function($scope, dataService, chartService) {\r\n\tvar usageByMonthCtrl = this,\r\n\t\treset = function() {\r\n\t\t\tusageByMonthCtrl.predicate = 'id';\r\n\t\t\tusageByMonthCtrl.reverse = false;\r\n\t\t};\r\n\r\n\tusageByMonthCtrl.selected = {};\r\n\treset();\r\n\r\n\t$scope.$watch('usageByMonthCtrl.selected', function() {\r\n\t\tvar usageData = dataService.getUsageByMonth(usageByMonthCtrl.selected.year);\r\n\r\n\t\tusageByMonthCtrl.data = usageData.data.usage;\r\n\t\tusageByMonthCtrl.total = usageData.data.total;\r\n\t\tusageByMonthCtrl.chartData = usageData.chartData;\r\n\t\tusageByMonthCtrl.chartOptions = chartService.getChartOptions(usageByMonthCtrl.chartData, chartService.getMonthLabel, chartService.getMonthLabel);\r\n\t\tusageByMonthCtrl.chartOptions.series[0].type = usageByMonthCtrl.selected.chartType;\r\n\r\n\t\treset();\r\n\t}, true);\r\n})\r\n;\r\n;/*\r\n *    Copyright (C) 2010 - 2015 VREM Software Development <VREMSoftwareDevelopment@gmail.com>\r\n *\r\n *    Licensed under the Apache License, Version 2.0 (the \"License\");\r\n *    you may not use this file except in compliance with the License.\r\n *    You may obtain a copy of the License at\r\n *\r\n *        http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n *    Unless required by applicable law or agreed to in writing, software\r\n *    distributed under the License is distributed on an \"AS IS\" BASIS,\r\n *    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n *    See the License for the specific language governing permissions and\r\n *    limitations under the License.\r\n */\r\nangular.module('BWMonApp.UsageByUser', ['ngRoute'])\r\n.config(function($routeProvider) {\r\n\t$routeProvider.when('/UsageByUser', {\r\n\t\ttemplateUrl: 'usagebyuser/usageByUser.tpl.html',\r\n\t\tcontroller: 'UsageByUserController',\r\n\t\tcontrollerAs: 'usageByUserCtrl'\r\n\t});\r\n})\r\n.controller('UsageByUserController', function($scope, dataService, chartService) {\r\n\tvar usageByUserCtrl = this,\r\n\t\treset = function() {\r\n\t\t\tusageByUserCtrl.selected.user = '';\r\n\t\t\tusageByUserCtrl.predicate = 'IP';\r\n\t\t\tusageByUserCtrl.reverse = false;\r\n\t\t};\r\n\r\n\tusageByUserCtrl.selected = {};\r\n\tusageByUserCtrl.pageSize = 12;\r\n\r\n\treset();\r\n\r\n\t$scope.$watch('usageByUserCtrl.selected.year', function() {\r\n\t\treset();\r\n\t\tusageByUserCtrl.selected.month = dataService.getMonths(usageByUserCtrl.selected.year)[0];\r\n\t}, true);\r\n\r\n\t$scope.$watch('usageByUserCtrl.selected.month', function() {\r\n\t\treset();\r\n\t}, true);\r\n\r\n\t$scope.$watch('usageByUserCtrl.selected', function() {\r\n\t\tvar usageData = dataService.getUsageByUser(usageByUserCtrl.selected.year, usageByUserCtrl.selected.month, usageByUserCtrl.selected.user);\r\n\t\tusageByUserCtrl.data = usageData.data.usage;\r\n\t\tusageByUserCtrl.total = usageData.data.total;\r\n\t\tusageByUserCtrl.chartData = usageData.chartData;\r\n\t\tusageByUserCtrl.chartOptions = chartService.getChartOptions(usageByUserCtrl.chartData, chartService.getUserLabel, chartService.getUserTooltip);\r\n\t\tusageByUserCtrl.chartOptions.series[0].type = usageByUserCtrl.selected.chartType;\r\n\t}, true);\r\n})\r\n;\r\n;/*\r\n *    Copyright (C) 2010 - 2015 VREM Software Development <VREMSoftwareDevelopment@gmail.com>\r\n *\r\n *    Licensed under the Apache License, Version 2.0 (the \"License\");\r\n *    you may not use this file except in compliance with the License.\r\n *    You may obtain a copy of the License at\r\n *\r\n *        http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n *    Unless required by applicable law or agreed to in writing, software\r\n *    distributed under the License is distributed on an \"AS IS\" BASIS,\r\n *    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n *    See the License for the specific language governing permissions and\r\n *    limitations under the License.\r\n */\r\nangular.module('BWMonApp.UsageByYear', ['ngRoute'])\r\n.config(function($routeProvider) {\r\n\t$routeProvider.when('/UsageByYear', {\r\n\t\ttemplateUrl: 'usagebyyear/usageByYear.tpl.html',\r\n\t\tcontroller: 'UsageByYearController',\r\n\t\tcontrollerAs: 'usageByYearCtrl'\r\n\t});\r\n})\r\n.controller('UsageByYearController', function($scope, dataService, chartService) {\r\n\tvar usageByYearCtrl = this;\r\n\tvar usageData = dataService.getUsageByYear();\r\n\r\n\tusageByYearCtrl.selected = {};\r\n\tusageByYearCtrl.predicate = 'id';\r\n\tusageByYearCtrl.reverse = false;\r\n\tusageByYearCtrl.data = usageData.data;\r\n\tusageByYearCtrl.chartData = usageData.chartData;\r\n\tusageByYearCtrl.chartOptions = chartService.getChartOptions(usageByYearCtrl.chartData, chartService.getYearLabel, chartService.getYearLabel);\r\n\r\n\t$scope.$watch('usageByYearCtrl.selected.chartType', function() {\r\n\t\tusageByYearCtrl.chartOptions.series[0].type = usageByYearCtrl.selected.chartType;\r\n\t}, true);\r\n})\r\n;\r\n;/*\r\n *    Copyright (C) 2010 - 2015 VREM Software Development <VREMSoftwareDevelopment@gmail.com>\r\n *\r\n *    Licensed under the Apache License, Version 2.0 (the \"License\");\r\n *    you may not use this file except in compliance with the License.\r\n *    You may obtain a copy of the License at\r\n *\r\n *        http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n *    Unless required by applicable law or agreed to in writing, software\r\n *    distributed under the License is distributed on an \"AS IS\" BASIS,\r\n *    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n *    See the License for the specific language governing permissions and\r\n *    limitations under the License.\r\n */\r\nangular.module('BWMonApp.ChartService', [])\r\n.factory('chartService', function() {\r\n\tvar _getYearLabel = function(value, data) {\r\n\t\t\tvar result = '';\r\n\t\t\tif (value % 1 === 0 && typeof data[value] !== 'undefined' && data[value] !== null) {\r\n\t\t\t\tresult = data[value].id;\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t},\r\n\t\t_getMonthLabel = function(value) {\r\n\t\t\tvar result = '';\r\n\t\t\tif (value % 1 === 0 && value >= 0 && value <= 11) {\r\n\t\t\t\tresult = moment({month: value}).format(\"MMMM\");\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t},\r\n\t\t_getUserLabel = function(value, data) {\r\n\t\t\tvar result = '';\r\n\t\t\tif (value % 1 === 0 && typeof data[value] !== 'undefined' && data[value] !== null) {\r\n\t\t\t\tresult = data[value].IP;\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t},\r\n\t\t_getUserTooltip = function(value, data) {\r\n\t\t\tvar result = '';\r\n\t\t\tif (value % 1 === 0 && typeof data[value] !== 'undefined' && data[value] !== null) {\r\n\t\t\t\tresult = data[value].user;\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t},\r\n\t\t_getChartTypes = function() {\r\n\t\t\treturn ['column', 'line', 'area'];\r\n\t\t},\r\n\t\t_getChartOptions = function(data, label, tooltip) {\r\n\t\t\treturn {\r\n\t\t\t\tseries: [{\r\n\t\t\t\t\ty: 'total',\r\n\t\t\t\t\tcolor: '#3366CC',\r\n\t\t\t\t\tlabel: 'GBytes',\r\n\t\t\t\t\ttype: _getChartTypes()[0]\r\n\t\t\t\t}],\r\n\t\t\t\taxes: {\r\n\t\t\t\t\tx: {\r\n\t\t\t\t\t\tlabelFunction: function(value) {\r\n\t\t\t\t\t\t\treturn label(value, data);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\ttooltip: {\r\n\t\t\t\t\tformatter: function(x, y, series) {\r\n\t\t\t\t\t\treturn tooltip(x, data)  + ' : ' + y;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t};\r\n\r\n\treturn {\r\n\t\tgetYearLabel: _getYearLabel,\r\n\t\tgetMonthLabel: _getMonthLabel,\r\n\t\tgetUserLabel: _getUserLabel,\r\n\t\tgetUserTooltip: _getUserTooltip,\r\n\t\tgetChartTypes: _getChartTypes,\r\n\t\tgetChartOptions: _getChartOptions\r\n\t};\r\n});\r\n;/*\r\n *    Copyright (C) 2010 - 2015 VREM Software Development <VREMSoftwareDevelopment@gmail.com>\r\n *\r\n *    Licensed under the Apache License, Version 2.0 (the \"License\");\r\n *    you may not use this file except in compliance with the License.\r\n *    You may obtain a copy of the License at\r\n *\r\n *        http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n *    Unless required by applicable law or agreed to in writing, software\r\n *    distributed under the License is distributed on an \"AS IS\" BASIS,\r\n *    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n *    See the License for the specific language governing permissions and\r\n *    limitations under the License.\r\n */\r\nangular.module('BWMonApp.DataService', [])\r\n.factory('dataService', function() {\r\n\tvar _data = bwmonData(),\r\n\t\t_sort = function(a, b) {\r\n\t\t\tvar result = b.year - a.year;\r\n\t\t\tif (result === 0) {\r\n\t\t\t\tresult = b.month - a.month;\r\n\t\t\t\tif (result === 0) {\r\n\t\t\t\t\tresult = a.IP < b.IP ? -1 : a.IP > b.IP ? 1 : 0;\r\n\t\t\t\t\tif (result === 0) {\r\n\t\t\t\t\t\tresult = b.id - a.id;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t},\r\n\t\t_sum = function(entries, days, id) {\r\n\t\t\tvar download = 0,\r\n\t\t\t\tupload = 0,\r\n\t\t\t\ttotal = 0;\r\n\r\n\t\t\tentries.forEach(function(entry) {\r\n\t\t\t\tdownload += entry.download;\r\n\t\t\t\tupload += entry.upload;\r\n\t\t\t\ttotal += entry.total;\r\n\t\t\t});\r\n\r\n\t\t\treturn {\r\n\t\t\t\tid: id,\r\n\t\t\t\tdownload: download,\r\n\t\t\t\tupload: upload,\r\n\t\t\t\ttotal: total,\r\n\t\t\t\taverage: +(total/days).toFixed(3),\r\n\t\t\t\tdays: days\r\n\t\t\t};\r\n\t\t},\r\n\t\t_getMonths = function(year) {\r\n\t\t\tvar result = _.where(_data, {year: year});\r\n\t\t\tresult = _.uniq(result, function(item){\r\n\t\t\t\treturn item.month;\r\n\t\t\t});\r\n\t\t\tresult = _.pluck(result, 'month');\r\n\t\t\treturn result;\r\n\t\t},\r\n\t\t_getYears = function() {\r\n\t\t\tvar result = _.uniq(_data, function(item){\r\n\t\t\t\treturn item.year;\r\n\t\t\t});\r\n\t\t\tresult = _.pluck(result, 'year');\r\n\t\t\treturn result;\r\n\t\t},\r\n\t\t_getUsageByYear = function(year) {\r\n\t\t\tvar days = moment([year, 11, 31]).dayOfYear(),\r\n\t\t\t\tusage = _.where(_data, {year: year});\r\n\r\n\t\t\treturn _sum(usage, days, year);\r\n\t\t},\r\n\t\t_getUsageByUser = function(year, month, filter) {\r\n\t\t\tvar usage = _.where(_data, {year: year, month: month}),\r\n\t\t\t\tdays = moment([year, month]).daysInMonth(),\r\n\t\t\t\ttotal = _sum(usage, days, month);\r\n\r\n\t\t\tif (filter) {\r\n\t\t\t\tusage = _.filter(usage, function(entry) {\r\n\t\t\t\t\tvar filterLowerCase = filter.toLowerCase();\r\n\t\t\t\t\treturn entry.IP.toLowerCase().indexOf(filterLowerCase) !== -1 ||\r\n\t\t\t\t\t\tentry.MAC.toLowerCase().indexOf(filterLowerCase) !== -1 ||\r\n\t\t\t\t\t\tentry.user.toLowerCase().indexOf(filterLowerCase) !== -1;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t_.each(usage, function(value, index) {\r\n\t\t\t\tvalue.percent = +(value.total * 100/total.total).toFixed(1);\r\n\t\t\t});\r\n\r\n\t\t\treturn {\r\n\t\t\t\tusage: usage,\r\n\t\t\t\ttotal: total\r\n\t\t\t};\r\n\t\t},\r\n\t\t_getUsageByMonth = function(year) {\r\n\t\t\tvar\tmonths = _getMonths(year),\r\n\t\t\t\tusage = _.map(months, function(entry) {\r\n\t\t\t\t\treturn _getUsageByUser(year, entry).total;\r\n\t\t\t\t}),\r\n\t\t\t\ttotal = _getUsageByYear(year);\r\n\r\n\t\t\t_.each(usage, function(value, index) {\r\n\t\t\t\tvalue.percent = +(value.total * 100/total.total).toFixed(1);\r\n\t\t\t});\r\n\t\t\treturn {\r\n\t\t\t\tusage: usage,\r\n\t\t\t\ttotal: total\r\n\t\t\t};\r\n\t\t},\r\n\t\t_getChartData = function(data, reverse) {\r\n\t\t\tvar chartData = [],\r\n\t\t\t\tusageData = data,\r\n\t\t\t\tround = function(value) {\r\n\t\t\t\t\treturn Math.round(value/1000)/1000;\r\n\t\t\t\t};\r\n\r\n\t\t\tif (reverse) {\r\n\t\t\t\tusageData = data.slice().reverse();\r\n\t\t\t}\r\n\t\t\tchartData = _.map(usageData, function(entry, key) {\r\n\t\t\t\tvar result = {\r\n\t\t\t\t\tx: key,\r\n\t\t\t\t\tid: entry.id,\r\n\t\t\t\t\ttotal: round(entry.total)\r\n\t\t\t\t};\r\n\t\t\t\tif (entry.IP) {result.IP = entry.IP;}\r\n\t\t\t\tif (entry.user) {result.user = entry.user;}\r\n\t\t\t\treturn result;\r\n\t\t\t});\r\n\t\t\treturn chartData;\r\n\t\t},\r\n\t\tinit = function() {\r\n\t\t\t_data.sort(_sort);\r\n\t\t};\r\n\r\n\tinit();\r\n\r\n\treturn {\r\n\t\tgetYears: _getYears,\r\n\t\tgetMonths: function(year) {\r\n\t\t\tvar result = _getMonths(year);\r\n\t\t\tresult = _.map(result, function(month) {\r\n\t\t\t\treturn moment([year, month]).format(\"MMMM\");\r\n\t\t\t});\r\n\t\t\treturn result;\r\n\t\t},\r\n\t\tgetUsageByUser: function(year, month, filter) {\r\n\t\t\tvar result = _getUsageByUser(year, moment(year+'-'+month, \"YYYY-MMMM\").month(), filter);\r\n\t\t\treturn {\r\n\t\t\t\tdata: result,\r\n\t\t\t\tchartData: _getChartData(result.usage, false)\r\n\t\t\t};\r\n\t\t},\r\n\t\tgetUsageByMonth: function(year) {\r\n\t\t\tvar result = _getUsageByMonth(year);\r\n\t\t\treturn {\r\n\t\t\t\tdata: result,\r\n\t\t\t\tchartData: _getChartData(result.usage, true)\r\n\t\t\t};\r\n\t\t},\r\n\t\tgetUsageByYear: function() {\r\n\t\t\tvar result = _getYears();\r\n\t\t\tresult = _.map(result, function(entry) {\r\n\t\t\t\treturn _getUsageByYear(entry);\r\n\t\t\t});\r\n\t\t\treturn {\r\n\t\t\t\tdata: result,\r\n\t\t\t\tchartData: _getChartData(result, true)\r\n\t\t\t};\r\n\t\t}\r\n\t};\r\n});\r\n"],"sourceRoot":"/source/"}
window.VERSION="2.4.0";
/*
	bwmon v2.4.0
	(C) 2010 - 2015 VREM Software Development
	https://github.com/VREMSoftwareDevelopment/bwmon
	License: Apache-2.0
*/
{"version":3,"sources":["bwmon.min.js"],"names":["angular","module","config","$routeProvider","otherwise","redirectTo","controller","$scope","$interval","rootController","this","updateClock","clock","Date","clockOn","currentDate","version","window","VERSION","$on","e","cancel","run","$templateCache","put","directive","restrict","replace","require","template","scope","bindToController","chartType","chartService","chartTypes","getChartTypes","extend","controllerAs","filter","input","start","slice","month","moment","format","time","value","Math","round","year","dataService","ctrl","updateMonth","months","getMonths","$watch","years","getYears","join","$location","isActive","viewLocation","path","routes","href","name","factory","_getChartTypes","getYearLabel","data","result","id","getMonthLabel","getUserLabel","IP","getUserTooltip","user","getChartOptions","labelFn","tooltipFn","margin","top","right","bottom","left","series","axis","dataset","key","color","label","grid","x","y","type","axes","tickFormat","index","dataset00","tooltipHook","d","rows","map","s","row","y1","_data","bwmonData","_sort","a","b","_sum","entries","days","download","upload","total","forEach","entry","average","toFixed","_getMonths","_","where","uniq","item","pluck","_getYears","_getUsageByYear","dayOfYear","usage","_getUsageByUser","daysInMonth","filterLowerCase","toLowerCase","indexOf","MAC","each","percent","_getChartData","reverse","usageData","sort","getUsageByUser","chartData","getUsageByMonth","_getUsageByMonth","getUsageByYear","when","templateUrl","reset","predicate","descending","selected","setOrder","getOrder","desc","asc","chartOptions","pageSize"],"mappings":"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","file":"bwmon.min.js","sourcesContent":["/*\n *    Copyright (C) 2010 - 2015 VREM Software Development <VREMSoftwareDevelopment@gmail.com>\n *\n *    Licensed under the Apache License, Version 2.0 (the \"License\");\n *    you may not use this file except in compliance with the License.\n *    You may obtain a copy of the License at\n *\n *        http://www.apache.org/licenses/LICENSE-2.0\n *\n *    Unless required by applicable law or agreed to in writing, software\n *    distributed under the License is distributed on an \"AS IS\" BASIS,\n *    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *    See the License for the specific language governing permissions and\n *    limitations under the License.\n */\nangular.module('BWMonApp', [\n\t'ngRoute',\n\t'ui.bootstrap',\n\t'angularUtils.directives.dirPagination',\n\t'n3-line-chart',\n\t'BWMonApp.Filters',\n\t'BWMonApp.Navigation',\n\t'BWMonApp.UsageByUser',\n\t'BWMonApp.UsageByMonth',\n\t'BWMonApp.UsageByYear',\n\t'BWMonApp.SelectYear',\n\t'BWMonApp.SelectMonth',\n\t'BWMonApp.ChartType',\n\t'BWMonApp.ChartService',\n\t'BWMonApp.DataService'\n])\n.config(function($routeProvider) {\n\t$routeProvider.otherwise({redirectTo: '/UsageByUser'});\n})\n.controller('rootController', function($scope, $interval) {\n\tvar rootController = this,\n\t\tupdateClock = function() {\n\t\t\trootController.clock = new Date();\n\t\t},\n\t\tclockOn = $interval(updateClock, 1000);\n\n\tupdateClock();\n\n\trootController.currentDate = rootController.clock;\n\trootController.version = window.VERSION || 'SNAPSHOT';\n\n\t$scope.$on('$destroy', function(e) {\n\t\t$interval.cancel(clockOn);\n\t});\n});\n;angular.module('BWMonApp').run(['$templateCache', function($templateCache) {$templateCache.put('index.tpl.html','<!doctype html>\\n<html lang=\"en\" ng-app=\"BWMonApp\" ng-controller=\"rootController as rootCtrl\">\\n<head>\\n\\t<meta charset=\"utf-8\">\\n\\t<meta name=\"viewport\" content=\"width=device-width,initial-scale=1\">\\n\\t<title>Bandwidth Monitor Usage</title>\\n<!-- @ifdef PRODUCTION -->\\n\\t<link rel=\"stylesheet\" href=\"css/bootstrap.min.css\">\\n\\t<link rel=\"stylesheet\" href=\"css/bwmon.min.css\">\\n\\t<link rel=\"stylesheet\" href=\"css/LineChart.min.css\">\\t\\n<!-- @endif -->\\n<!-- @ifdef DEVELOPMENT -->\\n\\t<link rel=\"stylesheet\" href=\"../node_modules/bootstrap/dist/css/bootstrap.min.css\">\\n\\t<link rel=\"stylesheet\" href=\"../node_modules/n3-charts/build/LineChart.min.css\">\\t\\n\\t<link rel=\"stylesheet\" href=\"css/app.css\">\\n<!-- @endif -->\\n</head>\\n<body class=\"container\">\\n\\t<h2>\\n\\t\\t<span class=\"pull-left\">Bandwidth Monitor Usage</span>\\n\\t\\t<small class=\"pull-right\">{{rootCtrl.clock  | date: \\'medium\\'}}</small>\\n\\t\\t<span class=\"clearfix\"></span>\\n\\t</h2>\\n\\t<navigation></navigation>\\n\\t<div class=\"ng-view-min-height\">\\n\\t\\t<div ng-view></div>\\n\\t</div>\\n\\t<h5>\\n\\t\\t<b>All usage information is in gigabytes</b>\\n\\t</h5>\\n\\t<h5>\\n\\t\\t<span class=\"pull-left\">This page was generated on {{::rootCtrl.currentDate | date: \\'medium\\'}}</span>\\n\\t\\t<span class=\"pull-right\">Version {{::rootCtrl.version}}</span>\\n\\t\\t<span class=\"clearfix\"></span>\\n\\t</h5>\\n\\t<script src=\"bwmonUsage.js\"></script>\\n<!-- @ifdef PRODUCTION -->\\n\\t<script src=\"js/libs.min.js\"></script>\\n\\t<script src=\"js/bwmon.min.js\"></script>\\n<!-- @endif -->\\n<!-- @ifdef DEVELOPMENT -->\\n\\t<script src=\"../node_modules/angular/angular.min.js\"></script>\\n\\t<script src=\"../node_modules/angular-route/angular-route.min.js\"></script>\\n\\t<script src=\"../node_modules/angular-ui-bootstrap/dist/ui-bootstrap-tpls.js\"></script>\\n\\t<script src=\"../node_modules/angular-utils-pagination/dirPagination.js\"></script>\\n\\t<script src=\"../node_modules/underscore/underscore-min.js\"></script>\\n\\t<script src=\"../node_modules/moment/min/moment.min.js\"></script>\\n\\t<script src=\"../node_modules/d3/d3.min.js\"></script>\\n\\t<script src=\"../node_modules/n3-charts/build/LineChart.js\"></script>\\n\\t<script src=\"app.js\"></script>\\n\\t<script src=\"navigation/navigation.js\"></script>\\n\\t<script src=\"services/dataService.js\"></script>\\n\\t<script src=\"services/chartService.js\"></script>\\n\\t<script src=\"usagebyuser/usageByUser.js\"></script>\\n\\t<script src=\"usagebymonth/usageByMonth.js\"></script>\\n\\t<script src=\"usagebyyear/usageByYear.js\"></script>\\n\\t<script src=\"common/filters.js\"></script>\\n\\t<script src=\"common/selectYear.js\"></script>\\n\\t<script src=\"common/selectMonth.js\"></script>\\n\\t<script src=\"common/chartType.js\"></script>\\n<!-- @endif -->\\n</body>\\n</html>\\n');\n$templateCache.put('usagebymonth/usageByMonth.tpl.html','<uib-tabset justified=\"true\">\\n\\t<uib-tab id=\"Data\" heading=\"Data\">\\n\\t\\t<form class=\"form-inline\">\\n\\t\\t\\t<div class=\"form-group\">\\n\\t\\t\\t\\t<select-year ng-model=\"usageByMonthCtrl.selected.year\" class=\"form-control\" name=\"year\">\\n\\t\\t\\t</div>\\n\\t\\t</form>\\n\\t\\t<div class=\"table-responsive\">\\n\\t\\t\\t<table class=\"table table-striped table-hover table-condensed\">\\n\\t\\t\\t\\t<thead>\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<th>\\n\\t\\t\\t\\t\\t\\t\\t<a class=\"nounderline\" id=\"monthSort\" href=\"\" ng-click=\"usageByMonthCtrl.setOrder(\\'id\\')\">Month</a>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"sortorder\" ng-class=\"usageByMonthCtrl.getOrder(\\'id\\')\"></span>\\n\\t\\t\\t\\t\\t\\t</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-right\">Down</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-right\">Up</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-right\">\\n\\t\\t\\t\\t\\t\\t\\t<a class=\"nounderline\" id=\"totalSort\" href=\"\" ng-click=\"usageByMonthCtrl.setOrder(\\'total\\')\">Total</a>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"sortorder\" ng-class=\"usageByMonthCtrl.getOrder(\\'total\\')\"></span>\\n\\t\\t\\t\\t\\t\\t</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-right\">Percent</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-right\">Average</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-right\">Days</th>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t</thead>\\n\\t\\t\\t\\t<tbody>\\n\\t\\t\\t\\t\\t<tr ng-repeat=\"current in usageByMonthCtrl.data | orderBy:usageByMonthCtrl.predicate:usageByMonthCtrl.descending\">\\n\\t\\t\\t\\t\\t\\t<td>{{::current.id | toMonth}}</td>\\n\\t\\t\\t\\t\\t\\t<td class=\"text-right\">{{::current.download | usageInGBytes | number:3}}</td>\\n\\t\\t\\t\\t\\t\\t<td class=\"text-right\">{{::current.upload | usageInGBytes | number:3}}</td>\\n\\t\\t\\t\\t\\t\\t<td class=\"text-right\">{{::current.total | usageInGBytes | number:3}}</td>\\n\\t\\t\\t\\t\\t\\t<td class=\"text-right\">{{::current.percent | number:1}}%</td>\\n\\t\\t\\t\\t\\t\\t<td class=\"text-right\">{{::current.average | usageInGBytes | number:3}}</td>\\n\\t\\t\\t\\t\\t\\t<td class=\"text-right\">{{::current.days}}</td>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t</tbody>\\n\\t\\t\\t\\t<tfoot>\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<th>{{usageByMonthCtrl.selected.year}} Totals</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-right\">{{usageByMonthCtrl.total.download | usageInGBytes | number:3}}</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-right\">{{usageByMonthCtrl.total.upload | usageInGBytes | number:3}}</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-right\">{{usageByMonthCtrl.total.total | usageInGBytes | number:3}}</th>\\n\\t\\t\\t\\t\\t\\t<th></th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-right\">{{usageByMonthCtrl.total.average | usageInGBytes | number:3}}</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-right\">{{usageByMonthCtrl.total.days}}</th>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t</tfoot>\\n\\t\\t\\t</table>\\n\\t\\t</div>\\n\\t</uib-tab>\\n\\t<uib-tab id=\"Chart\" heading=\"Chart\">\\n\\t\\t<form class=\"form-inline\">\\n\\t\\t\\t<div class=\"form-group\">\\n\\t\\t\\t\\t<select-year ng-model=\"usageByMonthCtrl.selected.year\" class=\"form-control\" name=\"year\">\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\"form-group\">\\n\\t\\t\\t\\t<chart-type ng-model=\"usageByMonthCtrl.selected.chartType\" class=\"form-control\" name=\"chartType\">\\n\\t\\t\\t</div>\\n\\t\\t</form>\\n\\t\\t<div class=\"chart-data\">\\n\\t\\t\\t<linechart id=\"chartData\" data=\"usageByMonthCtrl.chartData\" options=\"usageByMonthCtrl.chartOptions\"></linechart>\\n\\t\\t</div>\\n\\t</uib-tab>\\n</uib-tabset>\\n');\n$templateCache.put('usagebyuser/usageByUser.tpl.html','<uib-tabset justified=\"true\">\\n\\t<uib-tab id=\"Data\" heading=\"Data\">\\n\\t\\t<form class=\"form-inline\">\\n\\t\\t\\t<div class=\"form-group\">\\n\\t\\t\\t\\t<select-year ng-model=\"usageByUserCtrl.selected.year\" class=\"form-control\" name=\"year\">\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\"form-group\">\\n\\t\\t\\t\\t<select-month ng-model=\"usageByUserCtrl.selected.month\" year=\"usageByUserCtrl.selected.year\" class=\"form-control\" name=\"month\">\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\"form-group\">\\n\\t\\t\\t\\t<input ng-model=\"usageByUserCtrl.selected.user\" class=\"form-control\" name=\"user\" placeholder=\"IP, MAC or User\">\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\"form-group\">\\n\\t\\t\\t\\t<dir-pagination-controls max-size=\"5\" boundary-links=\"true\"></dir-pagination-controls>\\n\\t\\t\\t</div>\\n\\t\\t</form>\\n\\t\\t<div class=\"table-responsive\">\\n\\t\\t\\t<table class=\"table table-striped table-hover table-condensed\">\\n\\t\\t\\t\\t<thead>\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<th>\\n\\t\\t\\t\\t\\t\\t</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-left\">\\n\\t\\t\\t\\t\\t\\t\\t<a class=\"nounderline\" id=\"IPSort\" href=\"\" ng-click=\"usageByUserCtrl.setOrder(\\'IP\\')\">IP</a>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"sortorder\" ng-class=\"usageByUserCtrl.getOrder(\\'IP\\')\"></span>\\n\\t\\t\\t\\t\\t\\t</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-left\">\\n\\t\\t\\t\\t\\t\\t\\t<a class=\"nounderline\" id=\"MACSort\" href=\"\" ng-click=\"usageByUserCtrl.setOrder(\\'MAC\\')\">MAC</a>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"sortorder\" ng-class=\"usageByUserCtrl.getOrder(\\'MAC\\')\"></span>\\n\\t\\t\\t\\t\\t\\t</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-left\">\\n\\t\\t\\t\\t\\t\\t\\t<a class=\"nounderline\" id=\"userSort\" href=\"\" ng-click=\"usageByUserCtrl.setOrder(\\'user\\')\">User</a>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"sortorder\" ng-class=\"usageByUserCtrl.getOrder(\\'user\\')\"></span>\\n\\t\\t\\t\\t\\t\\t</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-right\">Down</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-right\">Up</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-right\">\\n\\t\\t\\t\\t\\t\\t\\t<a class=\"nounderline\" id=\"totalSort\" href=\"\" ng-click=\"usageByUserCtrl.setOrder(\\'total\\')\">Total</a>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"sortorder\" ng-class=\"usageByUserCtrl.getOrder(\\'total\\')\"></span>\\n\\t\\t\\t\\t\\t\\t</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-right\">Percent</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-right\">Average</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-right\">Days</th>\\n\\t\\t\\t\\t\\t\\t<th>First Seen</th>\\n\\t\\t\\t\\t\\t\\t<th>Last Seen</th>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t</thead>\\n\\t\\t\\t\\t<tbody>\\n\\t\\t\\t\\t\\t<tr dir-paginate=\"current in usageByUserCtrl.data | orderBy:usageByUserCtrl.predicate:usageByUserCtrl.descending | itemsPerPage:usageByUserCtrl.pageSize\">\\n\\t\\t\\t\\t\\t\\t<td>{{$index+1}}</td>\\n\\t\\t\\t\\t\\t\\t<td>{{::current.IP}}</td>\\n\\t\\t\\t\\t\\t\\t<td>{{::current.MAC}}</td>\\n\\t\\t\\t\\t\\t\\t<td>{{::current.user}}</td>\\n\\t\\t\\t\\t\\t\\t<td class=\"text-right\">{{::current.download | usageInGBytes | number:3}}</td>\\n\\t\\t\\t\\t\\t\\t<td class=\"text-right\">{{::current.upload | usageInGBytes | number:3}}</td>\\n\\t\\t\\t\\t\\t\\t<td class=\"text-right\">{{::current.total | usageInGBytes | number:3}}</td>\\n\\t\\t\\t\\t\\t\\t<td class=\"text-right\">{{::current.percent | number:1}}%</td>\\n\\t\\t\\t\\t\\t\\t<td class=\"text-right\">{{::current.average | usageInGBytes | number:3}}</td>\\n\\t\\t\\t\\t\\t\\t<td class=\"text-right\">{{::current.days}}</td>\\n\\t\\t\\t\\t\\t\\t<td>{{::current.firstSeen | timeToDate | date: \\'medium\\'}}</td>\\n\\t\\t\\t\\t\\t\\t<td>{{::current.lastSeen | timeToDate | date: \\'medium\\'}}</td>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t</tbody>\\n\\t\\t\\t\\t<tfoot>\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<th colspan=\"3\">{{usageByUserCtrl.selected.month}} {{usageByUserCtrl.selected.year}} Totals</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-right\">{{usageByUserCtrl.total.download | usageInGBytes | number:3}}</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-right\">{{usageByUserCtrl.total.upload | usageInGBytes | number:3}}</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-right\">{{usageByUserCtrl.total.total | usageInGBytes | number:3}}</th>\\n\\t\\t\\t\\t\\t\\t<th></th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-right\">{{usageByUserCtrl.total.average | usageInGBytes | number:3}}</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-right\">{{usageByUserCtrl.total.days}}</th>\\n\\t\\t\\t\\t\\t\\t<th></th>\\n\\t\\t\\t\\t\\t\\t<th></th>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t</tfoot>\\n\\t\\t\\t</table>\\n\\t\\t</div>\\n\\t</uib-tab>\\n\\t<uib-tab id=\"Chart\" heading=\"Chart\">\\n\\t\\t<form class=\"form-inline\">\\n\\t\\t\\t<div class=\"form-group\">\\n\\t\\t\\t\\t<select-year ng-model=\"usageByUserCtrl.selected.year\" class=\"form-control\" name=\"year\">\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\"form-group\">\\n\\t\\t\\t\\t<select-month ng-model=\"usageByUserCtrl.selected.month\" year=\"usageByUserCtrl.selected.year\" class=\"form-control\" name=\"month\">\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\"form-group\">\\n\\t\\t\\t\\t<input ng-model=\"usageByUserCtrl.selected.user\" class=\"form-control\" name=\"user\" placeholder=\"IP, MAC or User\">\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\"form-group\">\\n\\t\\t\\t\\t<chart-type ng-model=\"usageByUserCtrl.selected.chartType\" class=\"form-control\" name=\"chartType\">\\n\\t\\t\\t</div>\\n\\t\\t</form>\\n\\t\\t<div class=\"chart-data\">\\n\\t\\t\\t<linechart id=\"chartData\" data=\"usageByUserCtrl.chartData\" options=\"usageByUserCtrl.chartOptions\"></linechart>\\n\\t\\t</div>\\n\\t</uib-tab>\\n</uib-tabset>\\n');\n$templateCache.put('usagebyyear/usageByYear.tpl.html','<uib-tabset justified=\"true\">\\n\\t<uib-tab id=\"Data\" heading=\"Data\">\\n\\t\\t<div class=\"table-responsive\">\\n\\t\\t\\t<table class=\"table table-striped table-hover table-condensed\">\\n\\t\\t\\t\\t<thead>\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<th>\\n\\t\\t\\t\\t\\t\\t\\t<a class=\"nounderline\" id=\"yearSort\" href=\"\" ng-click=\"usageByYearCtrl.setOrder(\\'id\\')\">Year</a>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"sortorder\" ng-class=\"usageByYearCtrl.getOrder(\\'id\\')\"></span>\\n\\t\\t\\t\\t\\t\\t</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-right\">Down</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-right\">Up</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-right\">\\n\\t\\t\\t\\t\\t\\t\\t<a class=\"nounderline\" id=\"totalSort\" href=\"\" ng-click=\"usageByYearCtrl.setOrder(\\'total\\')\">Total</a>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"sortorder\" ng-class=\"usageByYearCtrl.getOrder(\\'total\\')\"></span>\\n\\t\\t\\t\\t\\t\\t</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-right\">Average</th>\\n\\t\\t\\t\\t\\t\\t<th class=\"text-right\">Days</th>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t</thead>\\n\\t\\t\\t\\t<tbody>\\n\\t\\t\\t\\t\\t<tr ng-repeat=\"current in usageByYearCtrl.data | orderBy:usageByYearCtrl.predicate:usageByYearCtrl.descending\">\\n\\t\\t\\t\\t\\t\\t<td>{{current.id}}</td>\\n\\t\\t\\t\\t\\t\\t<td class=\"text-right\">{{::current.download | usageInGBytes | number:3}}</td>\\n\\t\\t\\t\\t\\t\\t<td class=\"text-right\">{{::current.upload | usageInGBytes | number:3}}</td>\\n\\t\\t\\t\\t\\t\\t<td class=\"text-right\">{{::current.total | usageInGBytes | number:3}}</td>\\n\\t\\t\\t\\t\\t\\t<td class=\"text-right\">{{::current.average | usageInGBytes | number:3}}</td>\\n\\t\\t\\t\\t\\t\\t<td class=\"text-right\">{{::current.days}}</td>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t</tbody>\\n\\t\\t\\t</table>\\n\\t\\t</div>\\n\\t</uib-tab>\\n\\t<uib-tab id=\"Chart\" heading=\"Chart\">\\n\\t\\t<form class=\"form-inline\">\\n\\t\\t\\t<div class=\"form-group\">\\n\\t\\t\\t\\t<chart-type ng-model=\"usageByYearCtrl.selected.chartType\" class=\"form-control\" name=\"chartType\">\\n\\t\\t\\t</div>\\n\\t\\t</form>\\n\\t\\t<div class=\"chart-data\">\\n\\t\\t\\t<linechart id=\"chartData\" data=\"usageByYearCtrl.chartData\" options=\"usageByYearCtrl.chartOptions\"></linechart>\\n\\t\\t</div>\\n\\t</uib-tab>\\n</uib-tabset>\\n');}]);;/*\n *    Copyright (C) 2010 - 2015 VREM Software Development <VREMSoftwareDevelopment@gmail.com>\n *\n *    Licensed under the Apache License, Version 2.0 (the \"License\");\n *    you may not use this file except in compliance with the License.\n *    You may obtain a copy of the License at\n *\n *        http://www.apache.org/licenses/LICENSE-2.0\n *\n *    Unless required by applicable law or agreed to in writing, software\n *    distributed under the License is distributed on an \"AS IS\" BASIS,\n *    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *    See the License for the specific language governing permissions and\n *    limitations under the License.\n */\nangular.module('BWMonApp.ChartType', [])\n.directive('chartType', function() {\n\treturn {\n\t\trestrict: 'E',\n\t\treplace: true,\n\t\trequire: 'ngModel',\n\t\ttemplate: '<select ng-options=\"choiceChartType for choiceChartType in ::chartTypeCtrl.chartTypes\"></select>',\n\t\tscope: {},\n\t\tbindToController: {\n\t\t\tchartType: '=ngModel'\n\t\t},\n\t\tcontroller: function(chartService) {\n\t\t\tvar chartTypes = chartService.getChartTypes();\n\t\t\tangular.extend(this, {\n\t\t\t\tchartTypes: chartTypes,\n\t\t\t\tchartType: chartTypes[0]\n\t\t\t});\n\t\t},\n\t\tcontrollerAs: 'chartTypeCtrl'\n\t};\n});\n;/*\n *    Copyright (C) 2010 - 2015 VREM Software Development <VREMSoftwareDevelopment@gmail.com>\n *\n *    Licensed under the Apache License, Version 2.0 (the \"License\");\n *    you may not use this file except in compliance with the License.\n *    You may obtain a copy of the License at\n *\n *        http://www.apache.org/licenses/LICENSE-2.0\n *\n *    Unless required by applicable law or agreed to in writing, software\n *    distributed under the License is distributed on an \"AS IS\" BASIS,\n *    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *    See the License for the specific language governing permissions and\n *    limitations under the License.\n */\nangular.module('BWMonApp.Filters', [])\n.filter('startFrom', function() {\n\treturn function(input, start) {\n\t\treturn input.slice(start);\n\t};\n})\n.filter('toMonth', function() {\n\treturn function(month) {\n\t\treturn moment([2012, month]).format(\"MMMM\");\n\t};\n})\n.filter('timeToDate', function() {\n\treturn function(time) {\n\t\treturn new Date(time*1000);\n\t};\n})\n.filter('usageInGBytes', function() {\n\treturn function(value) {\n\t\treturn Math.round(value/1000)/1000;\n\t};\n});\n;/*\n *    Copyright (C) 2010 - 2015 VREM Software Development <VREMSoftwareDevelopment@gmail.com>\n *\n *    Licensed under the Apache License, Version 2.0 (the \"License\");\n *    you may not use this file except in compliance with the License.\n *    You may obtain a copy of the License at\n *\n *        http://www.apache.org/licenses/LICENSE-2.0\n *\n *    Unless required by applicable law or agreed to in writing, software\n *    distributed under the License is distributed on an \"AS IS\" BASIS,\n *    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *    See the License for the specific language governing permissions and\n *    limitations under the License.\n */\nangular.module('BWMonApp.SelectMonth', [])\n.directive('selectMonth', function() {\n\treturn {\n\t\trestrict: 'E',\n\t\treplace: true,\n\t\trequire: ['ngModel', 'year'],\n\t\ttemplate: '<select ng-options=\"choiceMonth for choiceMonth in selectMonthCtrl.months\"></select>',\n\t\tscope: {},\n\t\tbindToController: {\n\t\t\tmonth: '=ngModel',\n\t\t\tyear: '=year'\n\t\t},\n\t\tcontroller: function($scope, dataService) {\n\t\t\tvar ctrl = this;\n\t\t\tvar updateMonth = function() {\n\t\t\t\tvar months = dataService.getMonths(ctrl.year);\n\t\t\t\tctrl.months = months;\n\t\t\t\tctrl.month = months[0];\n\t\t\t};\n\n\t\t\tupdateMonth();\n\t\t\t$scope.$watch('selectMonthCtrl.year', function() {\n\t\t\t\tupdateMonth();\n\t\t\t}, true);\n\t\t},\n\t\tcontrollerAs: 'selectMonthCtrl'\n\t};\n});\n\n;/*\n *    Copyright (C) 2010 - 2015 VREM Software Development <VREMSoftwareDevelopment@gmail.com>\n *\n *    Licensed under the Apache License, Version 2.0 (the \"License\");\n *    you may not use this file except in compliance with the License.\n *    You may obtain a copy of the License at\n *\n *        http://www.apache.org/licenses/LICENSE-2.0\n *\n *    Unless required by applicable law or agreed to in writing, software\n *    distributed under the License is distributed on an \"AS IS\" BASIS,\n *    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *    See the License for the specific language governing permissions and\n *    limitations under the License.\n */\nangular.module('BWMonApp.SelectYear', [])\n.directive('selectYear', function() {\n\treturn {\n\t\trestrict: 'E',\n\t\treplace: true,\n\t\trequire: 'ngModel',\n\t\ttemplate: '<select ng-options=\"choiceYear for choiceYear in ::selectYearCtrl.years\"></select>',\n\t\tscope: {},\n\t\tbindToController: {\n\t\t\tyear: '=ngModel'\n\t\t},\n\t\tcontroller: function(dataService) {\n\t\t\tvar years = dataService.getYears();\n\t\t\tangular.extend(this, {\n\t\t\t\tyears: years,\n\t\t\t\tyear: years[0]\n\t\t\t});\n\t\t},\n\t\tcontrollerAs: 'selectYearCtrl'\n\t};\n});\n;/*\n *    Copyright (C) 2010 - 2015 VREM Software Development <VREMSoftwareDevelopment@gmail.com>\n *\n *    Licensed under the Apache License, Version 2.0 (the \"License\");\n *    you may not use this file except in compliance with the License.\n *    You may obtain a copy of the License at\n *\n *        http://www.apache.org/licenses/LICENSE-2.0\n *\n *    Unless required by applicable law or agreed to in writing, software\n *    distributed under the License is distributed on an \"AS IS\" BASIS,\n *    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *    See the License for the specific language governing permissions and\n *    limitations under the License.\n */\nangular.module('BWMonApp.Navigation', [])\n.directive('navigation', function() {\n\treturn {\n\t\trestrict: 'E',\n\t\treplace: true,\n\t\ttemplate: [\n\t\t\t\t'<div class=\"navbar navbar-default\">',\n\t\t\t\t\t'<ul class=\"nav navbar-nav\">',\n\t\t\t\t\t\t'<li ng-repeat=\"route in ::navigationCtrl.routes\" ng-class=\"{active: navigationCtrl.isActive(\\'{{::route.href}}\\')}\" >',\n\t\t\t\t\t\t\t'<a href=\"#{{::route.href}}\">{{::route.name}}</a>',\n\t\t\t\t\t\t'</li>',\n\t\t\t\t\t'</ul>',\n\t\t\t\t'</div>'\n\t\t\t].join(''),\n\t\tscope: {},\n\t\tcontroller: function($scope, $location) {\n\t\t\tangular.extend(this, {\n\t\t\t\tisActive: function (viewLocation) {\n\t\t\t\t\treturn viewLocation === $location.path();\n\t\t\t\t},\n\t\t\t\troutes: [{\n\t\t\t\t\thref: '/UsageByUser',\n\t\t\t\t\tname: 'Usage By User'\n\t\t\t\t}, {\n\t\t\t\t\thref: '/UsageByMonth',\n\t\t\t\t\tname: 'Usage By Month'\n\t\t\t\t}, {\n\t\t\t\t\thref: '/UsageByYear',\n\t\t\t\t\tname: 'Usage By Year'\n\t\t\t\t}]\n\t\t\t});\n\t\t},\n\t\tcontrollerAs: 'navigationCtrl'\n\t};\n});\n;/*\n *    Copyright (C) 2010 - 2015 VREM Software Development <VREMSoftwareDevelopment@gmail.com>\n *\n *    Licensed under the Apache License, Version 2.0 (the \"License\");\n *    you may not use this file except in compliance with the License.\n *    You may obtain a copy of the License at\n *\n *        http://www.apache.org/licenses/LICENSE-2.0\n *\n *    Unless required by applicable law or agreed to in writing, software\n *    distributed under the License is distributed on an \"AS IS\" BASIS,\n *    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *    See the License for the specific language governing permissions and\n *    limitations under the License.\n */\nangular.module('BWMonApp.ChartService', [])\n.factory('chartService', function() {\n\tvar _getYearLabel = function(value, data) {\n\t\t\tvar result = '';\n\t\t\tif (value % 1 === 0 && typeof data[value] !== 'undefined' && data[value] !== null) {\n\t\t\t\tresult = data[value].id;\n\t\t\t}\n\t\t\treturn result;\n\t\t},\n\t\t_getMonthLabel = function(value, data) {\n\t\t\tvar result = '';\n\t\t\tif (value % 1 === 0 && value >= 0 && value <= 11) {\n\t\t\t\tresult = moment({month: value}).format(\"MMMM\");\n\t\t\t}\n\t\t\treturn result;\n\t\t},\n\t\t_getUserLabel = function(value, data) {\n\t\t\tvar result = '';\n\t\t\tif (value % 1 === 0 && typeof data[value] !== 'undefined' && data[value] !== null) {\n\t\t\t\tresult = data[value].IP;\n\t\t\t}\n\t\t\treturn result;\n\t\t},\n\t\t_getUserTooltip = function(value, data) {\n\t\t\tvar result = '';\n\t\t\tif (value % 1 === 0 && typeof data[value] !== 'undefined' && data[value] !== null) {\n\t\t\t\tresult = data[value].user + \" | \" + data[value].IP + \" | \";\n\t\t\t}\n\t\t\treturn result;\n\t\t},\n\t\t_getChartTypes = function() {\n\t\t\treturn [\n\t\t\t\t['column'], \n\t\t\t\t['line', 'dot'], \n\t\t\t\t['line', 'dot', 'area']\n\t\t\t];\n\t\t},\n\t\t_getChartOptions = function(data, labelFn, tooltipFn) {\n\t\t\treturn {\n\t\t\t\tmargin: {\n\t\t\t\t\ttop: 40,\n\t\t\t\t\tright: 40,\n\t\t\t\t\tbottom: 40,\n\t\t\t\t\tleft: 40\n\t\t\t\t},\n\t\t\t\tseries: [{\n\t\t\t\t\taxis: 'y',\n\t\t\t\t\tdataset: 'dataset00',\n\t\t\t\t\tkey: 'total',\n\t\t\t\t\tcolor: '#3366CC',\n\t\t\t\t\tlabel: 'GBytes',\n\t\t\t\t\tgrid: {\n\t\t\t\t\t\tx: false, \n\t\t\t\t\t\ty: true\n\t\t\t\t\t},\n\t\t\t\t\ttype: _getChartTypes()[0],\n\t\t\t\t\tid: 'series00'\n\t\t\t\t}],\n\t\t\t\taxes: {\n\t\t\t\t\tx: { \n\t\t\t\t\t\tkey: 'x',\n\t\t\t\t\t\ttickFormat: function(value, index) {\n\t\t\t\t\t\t\treturn labelFn(value, data.dataset00);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\ttooltipHook: function(d) {\n\t\t\t\t\tif (d) {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\trows: d.map(function(s) {\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\tlabel: tooltipFn(s.row.x, data.dataset00),\n\t\t\t\t\t\t\t\t\tvalue: s.row.y1 + \" GB\", \n\t\t\t\t\t\t\t\t\tcolor: s.series.color,\n\t\t\t\t\t\t\t\t\tid: s.series.id \n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\n\treturn {\n\t\tgetYearLabel: _getYearLabel,\n\t\tgetMonthLabel: _getMonthLabel,\n\t\tgetUserLabel: _getUserLabel,\n\t\tgetUserTooltip: _getUserTooltip,\n\t\tgetChartTypes: _getChartTypes,\n\t\tgetChartOptions: _getChartOptions\n\t};\n});\n;/*\n *    Copyright (C) 2010 - 2015 VREM Software Development <VREMSoftwareDevelopment@gmail.com>\n *\n *    Licensed under the Apache License, Version 2.0 (the \"License\");\n *    you may not use this file except in compliance with the License.\n *    You may obtain a copy of the License at\n *\n *        http://www.apache.org/licenses/LICENSE-2.0\n *\n *    Unless required by applicable law or agreed to in writing, software\n *    distributed under the License is distributed on an \"AS IS\" BASIS,\n *    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *    See the License for the specific language governing permissions and\n *    limitations under the License.\n */\nangular.module('BWMonApp.DataService', [])\n.factory('dataService', function() {\n\tvar _data = bwmonData(),\n\t\t_sort = function(a, b) {\n\t\t\tvar result = b.year - a.year;\n\t\t\tif (result === 0) {\n\t\t\t\tresult = b.month - a.month;\n\t\t\t\tif (result === 0) {\n\t\t\t\t\tresult = a.IP < b.IP ? -1 : a.IP > b.IP ? 1 : 0;\n\t\t\t\t\tif (result === 0) {\n\t\t\t\t\t\tresult = b.id - a.id;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result;\n\t\t},\n\t\t_sum = function(entries, days, id) {\n\t\t\tvar download = 0,\n\t\t\t\tupload = 0,\n\t\t\t\ttotal = 0;\n\n\t\t\tentries.forEach(function(entry) {\n\t\t\t\tdownload += entry.download;\n\t\t\t\tupload += entry.upload;\n\t\t\t\ttotal += entry.total;\n\t\t\t});\n\n\t\t\treturn {\n\t\t\t\tid: id,\n\t\t\t\tdownload: download,\n\t\t\t\tupload: upload,\n\t\t\t\ttotal: total,\n\t\t\t\taverage: +(total/days).toFixed(3),\n\t\t\t\tdays: days\n\t\t\t};\n\t\t},\n\t\t_getMonths = function(year) {\n\t\t\tvar result = _.where(_data, {year: year});\n\t\t\tresult = _.uniq(result, function(item){\n\t\t\t\treturn item.month;\n\t\t\t});\n\t\t\tresult = _.pluck(result, 'month');\n\t\t\treturn result;\n\t\t},\n\t\t_getYears = function() {\n\t\t\tvar result = _.uniq(_data, function(item){\n\t\t\t\treturn item.year;\n\t\t\t});\n\t\t\tresult = _.pluck(result, 'year');\n\t\t\treturn result;\n\t\t},\n\t\t_getUsageByYear = function(year) {\n\t\t\tvar days = moment([year, 11, 31]).dayOfYear(),\n\t\t\t\tusage = _.where(_data, {year: year});\n\n\t\t\treturn _sum(usage, days, year);\n\t\t},\n\t\t_getUsageByUser = function(year, month, filter) {\n\t\t\tvar usage = _.where(_data, {year: year, month: month}),\n\t\t\t\tdays = moment([year, month]).daysInMonth(),\n\t\t\t\ttotal = _sum(usage, days, month);\n\n\t\t\tif (filter) {\n\t\t\t\tusage = _.filter(usage, function(entry) {\n\t\t\t\t\tvar filterLowerCase = filter.toLowerCase();\n\t\t\t\t\treturn entry.IP.toLowerCase().indexOf(filterLowerCase) !== -1 ||\n\t\t\t\t\t\tentry.MAC.toLowerCase().indexOf(filterLowerCase) !== -1 ||\n\t\t\t\t\t\tentry.user.toLowerCase().indexOf(filterLowerCase) !== -1;\n\t\t\t\t});\n\t\t\t}\n\t\t\t_.each(usage, function(value, index) {\n\t\t\t\tvalue.percent = +(value.total * 100/total.total).toFixed(1);\n\t\t\t});\n\n\t\t\treturn {\n\t\t\t\tusage: usage,\n\t\t\t\ttotal: total\n\t\t\t};\n\t\t},\n\t\t_getUsageByMonth = function(year) {\n\t\t\tvar\tmonths = _getMonths(year),\n\t\t\t\tusage = _.map(months, function(entry) {\n\t\t\t\t\treturn _getUsageByUser(year, entry).total;\n\t\t\t\t}),\n\t\t\t\ttotal = _getUsageByYear(year);\n\n\t\t\t_.each(usage, function(value, index) {\n\t\t\t\tvalue.percent = +(value.total * 100/total.total).toFixed(1);\n\t\t\t});\n\t\t\treturn {\n\t\t\t\tusage: usage,\n\t\t\t\ttotal: total\n\t\t\t};\n\t\t},\n\t\t_getChartData = function(data, reverse) {\n\t\t\tvar result = {\n\t\t\t\t\tdataset00: []\n\t\t\t\t},\n\t\t\t\tusageData = data,\n\t\t\t\tround = function(value) {\n\t\t\t\t\treturn Math.round(value/1000)/1000;\n\t\t\t\t};\n\n\t\t\tif (reverse) {\n\t\t\t\tusageData = data.slice().reverse();\n\t\t\t}\n\t\t\t\n\t\t\tresult.dataset00 = _.map(usageData, function(entry, key) {\n\t\t\t\tvar result = {\n\t\t\t\t\tx: key,\n\t\t\t\t\tid: entry.id,\n\t\t\t\t\ttotal: round(entry.total)\n\t\t\t\t};\n\t\t\t\tif (entry.IP) {result.IP = entry.IP;}\n\t\t\t\tif (entry.user) {result.user = entry.user;}\n\t\t\t\treturn result;\n\t\t\t});\n\t\t\treturn result;\n\t\t},\n\t\tinit = function() {\n\t\t\t_data.sort(_sort);\n\t\t};\n\n\tinit();\n\n\treturn {\n\t\tgetYears: _getYears,\n\t\tgetMonths: function(year) {\n\t\t\tvar result = _getMonths(year);\n\t\t\tresult = _.map(result, function(month) {\n\t\t\t\treturn moment([year, month]).format(\"MMMM\");\n\t\t\t});\n\t\t\treturn result;\n\t\t},\n\t\tgetUsageByUser: function(year, month, filter) {\n\t\t\tvar result = _getUsageByUser(year, moment(year+'-'+month, \"YYYY-MMMM\").month(), filter);\n\t\t\treturn {\n\t\t\t\tdata: result,\n\t\t\t\tchartData: _getChartData(result.usage, false)\n\t\t\t};\n\t\t},\n\t\tgetUsageByMonth: function(year) {\n\t\t\tvar result = _getUsageByMonth(year);\n\t\t\treturn {\n\t\t\t\tdata: result,\n\t\t\t\tchartData: _getChartData(result.usage, true)\n\t\t\t};\n\t\t},\n\t\tgetUsageByYear: function() {\n\t\t\tvar result = _getYears();\n\t\t\tresult = _.map(result, function(entry) {\n\t\t\t\treturn _getUsageByYear(entry);\n\t\t\t});\n\t\t\treturn {\n\t\t\t\tdata: result,\n\t\t\t\tchartData: _getChartData(result, true)\n\t\t\t};\n\t\t}\n\t};\n});\n;/*\n *    Copyright (C) 2010 - 2015 VREM Software Development <VREMSoftwareDevelopment@gmail.com>\n *\n *    Licensed under the Apache License, Version 2.0 (the \"License\");\n *    you may not use this file except in compliance with the License.\n *    You may obtain a copy of the License at\n *\n *        http://www.apache.org/licenses/LICENSE-2.0\n *\n *    Unless required by applicable law or agreed to in writing, software\n *    distributed under the License is distributed on an \"AS IS\" BASIS,\n *    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *    See the License for the specific language governing permissions and\n *    limitations under the License.\n */\nangular.module('BWMonApp.UsageByMonth', ['ngRoute'])\n.config(function($routeProvider) {\n\t$routeProvider.when('/UsageByMonth', {\n\t\ttemplateUrl: 'usagebymonth/usageByMonth.tpl.html',\n\t\tcontroller: 'UsageByMonthController',\n\t\tcontrollerAs: 'usageByMonthCtrl'\n\t});\n})\n.controller('UsageByMonthController', function($scope, dataService, chartService) {\n\tvar ctrl = this,\n\t\treset = function() {\n\t\t\tctrl.predicate = 'id';\n\t\t\tctrl.descending = true;\n\t\t};\n\n\tctrl.selected = {};\n\treset();\n\n\tctrl.setOrder = function(predicate) {\n\t\tctrl.descending = (ctrl.predicate === predicate) ? !ctrl.descending : true;\n\t\tctrl.predicate = predicate;\n\t};\n\tctrl.getOrder = function(predicate) {\n\t\treturn ctrl.predicate === predicate ? (ctrl.descending ? {desc:true} : {asc: true}): {};\n\t};\n\n\n\t$scope.$watch('usageByMonthCtrl.selected', function() {\n\t\tvar usageData = dataService.getUsageByMonth(ctrl.selected.year);\n\n\t\tctrl.data = usageData.data.usage;\n\t\tctrl.total = usageData.data.total;\n\t\tctrl.chartData = usageData.chartData;\n\t\tctrl.chartOptions = chartService.getChartOptions(ctrl.chartData, chartService.getMonthLabel, chartService.getMonthLabel);\n\t\tctrl.chartOptions.series[0].type = ctrl.selected.chartType;\n\n\t\treset();\n\t}, true);\n})\n;\n;/*\n *    Copyright (C) 2010 - 2015 VREM Software Development <VREMSoftwareDevelopment@gmail.com>\n *\n *    Licensed under the Apache License, Version 2.0 (the \"License\");\n *    you may not use this file except in compliance with the License.\n *    You may obtain a copy of the License at\n *\n *        http://www.apache.org/licenses/LICENSE-2.0\n *\n *    Unless required by applicable law or agreed to in writing, software\n *    distributed under the License is distributed on an \"AS IS\" BASIS,\n *    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *    See the License for the specific language governing permissions and\n *    limitations under the License.\n */\nangular.module('BWMonApp.UsageByUser', ['ngRoute'])\n.config(function($routeProvider) {\n\t$routeProvider.when('/UsageByUser', {\n\t\ttemplateUrl: 'usagebyuser/usageByUser.tpl.html',\n\t\tcontroller: 'UsageByUserController',\n\t\tcontrollerAs: 'usageByUserCtrl'\n\t});\n})\n.controller('UsageByUserController', function($scope, dataService, chartService) {\n\tvar ctrl = this,\n\t\treset = function() {\n\t\t\tctrl.selected.user = '';\n\t\t\tctrl.predicate = 'IP';\n\t\t\tctrl.descending = false;\n\t\t};\n\n\tctrl.selected = {};\n\tctrl.pageSize = 15;\n\n\treset();\n\n\tctrl.setOrder = function(predicate) {\n\t\tctrl.descending = (ctrl.predicate === predicate) ? !ctrl.descending : false;\n\t\tctrl.predicate = predicate;\n\t};\n\tctrl.getOrder = function(predicate) {\n\t\treturn ctrl.predicate === predicate ? (ctrl.descending ? {desc:true} : {asc: true}): {};\n\t};\n\n\t$scope.$watch('usageByUserCtrl.selected.year', function() {\n\t\treset();\n\t\tctrl.selected.month = dataService.getMonths(ctrl.selected.year)[0];\n\t}, true);\n\n\t$scope.$watch('usageByUserCtrl.selected.month', function() {\n\t\treset();\n\t}, true);\n\n\t$scope.$watch('usageByUserCtrl.selected', function() {\n\t\tvar usageData = dataService.getUsageByUser(ctrl.selected.year, ctrl.selected.month, ctrl.selected.user);\n\t\tctrl.data = usageData.data.usage;\n\t\tctrl.total = usageData.data.total;\n\t\tctrl.chartData = usageData.chartData;\n\t\tctrl.chartOptions = chartService.getChartOptions(ctrl.chartData, chartService.getUserLabel, chartService.getUserTooltip);\n\t\tctrl.chartOptions.series[0].type = ctrl.selected.chartType;\n\t}, true);\n})\n;\n;/*\n *    Copyright (C) 2010 - 2015 VREM Software Development <VREMSoftwareDevelopment@gmail.com>\n *\n *    Licensed under the Apache License, Version 2.0 (the \"License\");\n *    you may not use this file except in compliance with the License.\n *    You may obtain a copy of the License at\n *\n *        http://www.apache.org/licenses/LICENSE-2.0\n *\n *    Unless required by applicable law or agreed to in writing, software\n *    distributed under the License is distributed on an \"AS IS\" BASIS,\n *    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *    See the License for the specific language governing permissions and\n *    limitations under the License.\n */\nangular.module('BWMonApp.UsageByYear', ['ngRoute'])\n.config(function($routeProvider) {\n\t$routeProvider.when('/UsageByYear', {\n\t\ttemplateUrl: 'usagebyyear/usageByYear.tpl.html',\n\t\tcontroller: 'UsageByYearController',\n\t\tcontrollerAs: 'usageByYearCtrl'\n\t});\n})\n.controller('UsageByYearController', function($scope, dataService, chartService) {\n\tvar ctrl = this;\n\tvar usageData = dataService.getUsageByYear();\n\n\tctrl.predicate = 'id';\n\tctrl.descending = true;\n\tctrl.setOrder = function(predicate) {\n\t\tctrl.descending = (ctrl.predicate === predicate) ? !ctrl.descending : true;\n\t\tctrl.predicate = predicate;\n\t};\n\tctrl.getOrder = function(predicate) {\n\t\treturn ctrl.predicate === predicate ? (ctrl.descending ? {desc:true} : {asc: true}): {};\n\t};\n\n\tctrl.selected = {};\n\tctrl.data = usageData.data;\n\tctrl.chartData = usageData.chartData;\n\tctrl.chartOptions = chartService.getChartOptions(ctrl.chartData, chartService.getYearLabel, chartService.getYearLabel);\n\n\t$scope.$watch('usageByYearCtrl.selected.chartType', function() {\n\t\tctrl.chartOptions.series[0].type = ctrl.selected.chartType;\n\t}, true);\n})\n;\n"]}
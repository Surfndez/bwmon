<form class="form-inline">
	<display-type ng-model="displayType"></display-type>
	<select-year ng-model="year"></select-year>
	<chart-type ng-if="displayType" ng-model="chartType"></chart-type>
</form>
<div ng-if="!displayType" class="table-responsive">
	<table class="table table-striped table-hover table-condensed">
		<thead>
			<tr>
				<th><a href="" ng-click="predicate='id'; reverse=!reverse;">Month</a></th>
				<th class="text-right">Down</th>
				<th class="text-right">Up</th>
				<th class="text-right"><a href="" ng-click="predicate='total'; reverse=!reverse">Total</a></th>
				<th class="text-right">Percent</th>
				<th class="text-right">Average</th>
				<th class="text-right">Days</th>
			</tr>
		</thead>
		<tbody>
			<tr ng-repeat="current in data | orderBy:predicate:reverse">
				<td>{{current.id | toMonth}}</td>
				<td class="text-right">{{current.download | usageInGBytes | number:3}}</td>
				<td class="text-right">{{current.upload | usageInGBytes | number:3}}</td>
				<td class="text-right">{{current.total | usageInGBytes | number:3}}</td>
				<td class="text-right">{{(current.total * 100 / total.total) | number:1}}%</td>
				<td class="text-right">{{current.average | usageInGBytes | number:3}}</td>
				<td class="text-right">{{current.days}}</td>
			</tr>
		</tbody>
		<tfoot>
			<tr>
				<th>{{year}} Totals</th>
				<th class="text-right">{{total.download | usageInGBytes | number:3}}</th>
				<th class="text-right">{{total.upload | usageInGBytes | number:3}}</th>
				<th class="text-right">{{total.total | usageInGBytes | number:3}}</th>
				<th></th>
				<th class="text-right">{{total.average | usageInGBytes | number:3}}</th>
				<th class="text-right">{{total.days}}</th>
			</tr>
		</tfoot>
	</table>
</div>
<div ng-if="displayType">
	<linechart id="chartData" data="chartData" options="chartOptions"></linechart>
</div>
